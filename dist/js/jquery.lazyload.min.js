import $ from"./library/jquery.js";!function(n,f,o,l){var a=n(f);n.fn.lazyload=function(e){var i=this,r={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:f,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function t(){var t=0;i.each(function(){var e=n(this);if((!r.skip_invisible||e.is(":visible"))&&!n.abovethetop(this,r)&&!n.leftofbegin(this,r))if(n.belowthefold(this,r)||n.rightoffold(this,r)){if(++t>r.failure_limit)return!1}else e.trigger("appear"),t=0})}return e&&(l!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),l!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),n.extend(r,e)),e=r.container===l||r.container===f?a:n(r.container),0===r.event.indexOf("scroll")&&e.bind(r.event,t),this.each(function(){var t=this,o=n(t);t.loaded=!1,o.attr("src")!==l&&!1!==o.attr("src")||o.is("img")&&o.attr("src",r.placeholder),o.one("appear",function(){var e;this.loaded||(r.appear&&(e=i.length,r.appear.call(t,e,r)),n("<img />").bind("load",function(){var e=o.attr("data-"+r.data_attribute);o.hide(),o.is("img")?o.attr("src",e):o.css("background-image","url('"+e+"')"),o[r.effect](r.effect_speed),t.loaded=!0;e=n.grep(i,function(e){return!e.loaded});i=n(e),r.load&&(e=i.length,r.load.call(t,e,r))}).attr("src",o.attr("data-"+r.data_attribute)))}),0!==r.event.indexOf("scroll")&&o.bind(r.event,function(){t.loaded||o.trigger("appear")})}),a.bind("resize",function(){t()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&i.each(function(){n(this).trigger("appear")})}),n(o).ready(function(){t()}),this},n.belowthefold=function(e,t){var o=t.container===l||t.container===f?(f.innerHeight||a.height())+a.scrollTop():n(t.container).offset().top+n(t.container).height();return o<=n(e).offset().top-t.threshold},n.rightoffold=function(e,t){var o=t.container===l||t.container===f?a.width()+a.scrollLeft():n(t.container).offset().left+n(t.container).width();return o<=n(e).offset().left-t.threshold},n.abovethetop=function(e,t){var o=t.container===l||t.container===f?a.scrollTop():n(t.container).offset().top;return o>=n(e).offset().top+t.threshold+n(e).height()},n.leftofbegin=function(e,t){var o=t.container===l||t.container===f?a.scrollLeft():n(t.container).offset().left;return o>=n(e).offset().left+t.threshold+n(e).width()},n.inviewport=function(e,t){return!(n.rightoffold(e,t)||n.leftofbegin(e,t)||n.belowthefold(e,t)||n.abovethetop(e,t))},n.extend(n.expr[":"],{"below-the-fold":function(e){return n.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!n.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return n.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!n.rightoffold(e,{threshold:0})},"in-viewport":function(e){return n.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!n.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return n.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!n.rightoffold(e,{threshold:0})}})}($,window,document);